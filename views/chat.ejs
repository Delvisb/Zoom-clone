<!DOCTYPE html>
<html lang= "en">
  <head>
		<meta charset ="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
        <script defer src="/socket.io/socket.io.js"> </script>
		<script defer src="https://unpkg.com/peerjs@1.4.5/dist/peerjs.min.js"></script>
        <script defer src="../main.js"></script>
		<script> 
			const userName = '<%= userName %>';	
			const roomId = '<%=  roomId %>';
		</script>
	<style>
		.Container1{
			height: 90vh;
			width: 100vw;
			margin: 0 auto;
		}
		.allContainers{
			background: grey;
			border: 2px solid black;
			color: white;
			font-family: sans-serif;
		}
		#leftContainer{
			float: left;
			width: 60%;
			height: 100%;
			text-align: center;
			color: white;
			font-size: 16px;
		}
		#rightContainer{
			float: right;
			width: 40%;
			height: 100%;
		}
		.messaging{
			height: 80%;
			overflow: scroll;
			background: white;
			color: black;
		}
		p.message{
			display:block;
		}
		.inputContainer{
			height: auto;
		}
		#input{
			border-radius: 10px;
			margin: 0 auto;
			font-family: sans-serif;
			background: white;
			border: 2px solid black;
			height: 30%;
			width: 75%;
		}
		#currentlyOnline{
			border-bottom: 2px solid white;
			width:100%;
		}
		h2{
			text-align: center;
			color: white;
			border-bottom: white solid 2px;
			width: 100%;
		}
		.activeUsers{
			outline: none;
			padding: 0;
			background-color: inherit;
			border: none;
			color: inherit;
			font-size: inherit;
			cursor: pointer;
		}
		#activeUsers{
			color: white;
		}
		#sentMessage{
			height: auto;
			width: 45%;
			max-width: 80%;
			background: green;
			border-radius: 10px;
			padding: 10px;
			color: white;
			font-family: helvetica;
			margin: 10px 10px 10px 50%;
			overflow: scroll;
		}
		#recievedMessage{
			height: auto;
			width: 45%;
			max-width: 80%;
			background: blue;
			border-radius: 10px;
			padding: 10px;
			color: white;
			font-family: helvetica;
			margin: 10px 50% 10px 10px;
			overflow: scroll;
        }
        #videoContainer{
            display: grid;
            grid-template-columns: repeat(auto-fill, 300px);
            grid-auto-rows: 300px;
			width: 85%;
			height: 100%;
			overflow: scroll;
        }
        video{
            height: 100%;
            width: 100%;
        }
		.nav-item{
			margin-left: 5px;
			margin-right: 5px;
		}
		
	</style>
	</head>
  <body>
    <nav class="navbar navbar-expand-lg bg-light">
		<a class="navbar-brand" id = "currentRoom"> </a>
		<ul class = "nav" >
			<li class = "nav-item">
				<button id = "videoControlBtn" class="btn btn-dark" onclick = "videoControl()" > Close Video </button>
			</li>
			<li class = "nav-item">
				<button id = "chatBtn" class="btn btn-dark" onclick = "openCloseChat()">Close Chat </button>
			</li>
			<li class = "nav-item">
				<button type = "button" class = "btn btn-danger" onclick = "window.location= '/logOut'"> Log Out </button>
			</li>
		</ul>
	</nav>
	<div class = ".container Container1 allContainers" >
		<div class = ".container allContainers" id = "leftContainer">
			<div class = ".container allContainers" id = "currentlyOnlineContainer" style = "float: left; width: 15%; height: 100%;">
				<p id = "currentlyOnline"> </p>
					<ul id = "activeUsers"></ul>
			</div>
			<div class= ".container" id = "videoContainer"> </div>
		</div>
		<div class = ".container allContainers" id = "rightContainer"> 
			<div class = ".container">
				<div class = ".row" style = "text-align: center; justify-content: center; align-items: center;">
					<h1 id = "welcomeHeader"> Welcome <%= locals.userName%> </h1>
				</div>
			</div>
			<div class = ".col-md-12  messaging" id = "messaging"></div>
			<div class = ".col-md-12 inputContainer" >
				<input type = "text" class="form-control mt-2" id = "input" autocomplete="off" required/>
			</div>	
		</div>
	</div>
    </body>
</html>
